<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" href="common.css">
<script>
	setInterval(function() {
		status = fetch("/api/v1/status").then(response => {
			response.json().then(data => {
				if (data.playing) {
					document.getElementById('playing').innerHTML = "Playing";
				} else {
					document.getElementById('playing').innerHTML = "Stopped";
				}
				document.getElementById('dcp_name').innerHTML = data.dcp_name;
				document.getElementById('position').innerHTML = data.position;
			});
		});
	}, 250);
	function play() {
		fetch("/api/v1/play", { method: "POST" });
	}
	function stop() {
		fetch("/api/v1/stop", { method: "POST" });
	}
</script>

<style>
table {
	border-collapse: collapse;
	margin: 25px 0;
	font-size: 0.9em;
	box-shadow: 0 0 20px rgba(0, 0, 0, 0.15);
	border: 2px solid black;
}

tr {
	text-align: left;
	border: 1px solid black;
}

td {
	padding: 4px 16px;
	text-align: left;
	border: 1px solid black;
}
</style>

<title>TITLE</title>

</head>
<body>

	SIDEBAR

	<button name="play" value="play" onclick="play()">Play</button>
	<button name="stop" value="stop" onclick="stop()">Stop</button>
	<table>
		<tr><td>DCP</td><td><p id="dcp_name"></td></tr>
		<tr><td>State</td><td><p id="playing"></td></tr>
		<tr><td>Position</td><td><p id="position"></td></tr>
	</table>
</body>
</html>
